<!DOCTYPE html>
<html>
    <meta charset=utf-8>
<head>
    <meta name="Accumulation of Gradients Over Interpolation"/>
</head>

<body onkeydown="handleKeyDown(event)">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.css" integrity="sha384-yFRtMMDnQtDRO8rLpMIKrtPCD5jdktao2TV19YiZYWMDkUR5GQZR/NOVTdquEx1j" crossorigin="anonymous">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.js" integrity="sha384-9Nhn55MVVN0/4OFx7EE5kpFBPsEMZxKTCnA+4fqDmg12eCTqGi6+BB2LjY8brQxJ" crossorigin="anonymous"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous"
        onload="renderMathInElement(document.body);"></script>
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <script src="https://rawgit.com/nstrayer/slid3r/master/dist/slid3r.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <script src="cross_fade.js"></script>
    <script>
        function handleKeyDown(event) {
            if (event.keyCode == 39) {
                window.location.href = "figure5.html";
            }
            else if (event.keyCode == 37) {
                window.location.href = "figure3.html";
            }
        }
    </script>
    
    <div class="container">
        <div class="row">
            <div class="col s12">
                <div class="card teal">
                   <div class="card-content white-text">
                     <span class="card-title"><b style="font-size:36px;">Accumulating Gradients</b></span>
                     <p style="font-size:20px;">
                         Given that gradients saturate, how can we avoid this problem?
                         We could simply accumulate all of the gradients between some baseline \(x'\)
                         and our current input \(x\). This would represent average rate of change
                         along the path, which is exactly what integrated gradients does:
                         $$\phi_i^{IG}(f, x, x') = (x_i - x'_i) \times \int_{\alpha = 0}^ 1
                           \frac{\delta f(x' + \alpha (x - x'))}{\delta x_i} d \alpha$$
                     </p>
                     <p style="font-size:20px;">
                         We break this equation down and visualize it in four separate equations:
                         $$
                           \tag{1} x'^k + \alpha^{k} (x - x'^k)
                         $$
                         $$
                           \tag{2} (x_i - x'^k_i) \times 
                             \frac{\delta f(x'^k + \alpha^{k} (x - x'^k))}{\delta x_i}
                         $$
                         $$
                           \tag{3} \frac{1}{k} \sum_{j=1}^k (x_i - x'^j_i) \times 
                             \frac{\delta f(x'^j + \alpha^{j} (x - x'^j))}{\delta x_i}
                         $$
                         $$
                             \tag{4} \sum_i \bigg( (x_i - x'_i) \times \int_{\alpha' = 0}^{\alpha} 
                             \frac{\delta f(x' + \alpha' (x - x'))}{\delta x_i} d \alpha' \bigg)
                         $$
                     </p>
                   </div>
                 </div>
            </div>
        </div>
        <div class="row">
            <div class="col s12">
                <div id='figure4_div'></div>
                <script src="figure4.js"></script>
            </div> 
        </div>
        <div class="row">
            <div class="col s2">
                <a href="figure3.html" class="waves-effect waves-light btn">previous</a>
            </div>
            <div class="col s2 offset-s8">
                <a href="figure5.html" class="waves-effect waves-light btn">next</a>
            </div>    
        </div>
    </div>
</body>
</html>